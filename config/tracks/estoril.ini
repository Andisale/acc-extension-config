[INCLUDE]
INCLUDE = common/conditions.ini, common/materials_track.ini, common/custom_emissive.ini, common\grass_fx.ini, common/Benner900conditions.ini, common/materials_base.ini, common/conditions_blm.ini

[LIGHTING]
LIT_MULT = 1.0
SPECULAR_MULT = 1.0
CAR_LIGHTS_LIT_MULT = 1.0

[LIGHT_POLLUTION]
ACTIVE = 1
COLOR = 1, 1, 1
DENSITY = 0.2
RADIUS_KM = 2

[BOUNCED_LIGHT]
SUPPORTED=1
SURFACE_MATERIALS=?

[DISTANT_GLOW]
THRESHOLD = 25
SHARED_THRESHOLD = 25

[SOL]
HORIZON_OFFSET = 0.0
DOME_SIZE = 24000
SUN_DAWN = 1
SUN_DUSK = 1
FOG_LEVEL = 0.90
FOG_BLEND = 1.15
FOG_DISTANCE = 0.9
SMOG_MORNING = 0.05
SMOG_NOON = 0.1
SMOG_EVENING = 0.15
; EXPOSURE_FIX = 1.0

[SOL2]
HORIZON_OFFSET = 0.0
DOME_SIZE = 24000
SUN_DAWN = 1
SUN_DUSK = 1
FOG_LEVEL = 0.90
FOG_BLEND = 1.15
FOG_DISTANCE = 0.9
SMOG_MORNING = 0.05
SMOG_NOON = 0.1
SMOG_EVENING = 0.15
; EXPOSURE_FIX = 1.0

[BASIC]
IGNORE_OTHER_CONFIGS = 1
SUPPORTS_WIND=1

[WIND]
DYNAMIC_FLAGS = AUTO
IGNORE=marshals

[SPECTATORS]
MESHES = ?public?, ?crowd?, ?people?, Crow?

;;;;;;;;;;;;;; HIDE UNNECESSARY MESHES ;;;;;;;;;;;;;;;

[MESH_ADJUSTMENT_...]
MESHES = 03WALL05, WALL46, 
IS_RENDERABLE = 0

;;;;;;;;;;;;;; SHADER REPLACEMENT ;;;;;;;;;;;;;;;

[SHADER_REPLACEMENT_...]
DESCRIPTION=
ACTIVE = 1   
MATERIALS = GARDIVIDER, 
MESHES = trees_wide1,
SHADER = ksPerPixelAT
IS_TRANSPARENT = 1

[SHADER_REPLACEMENT_...]
ACTIVE=1
DESCRIPTION= missing double sided
MESHES = 
MATERIALS = GARWALLS, GAREXTROOF, RDCP_GARFLOOR, Material #608, GARWIND, BLD_GLASS, GRDL_FENCING,
CULL_MODE= OFF

;;;;;;;;;;;;;; RAINFX ;;;;;;;;;;;;;;;

[RAIN_FX]
PUDDLES_MATERIALS = ?
PUDDLES_MESHES = 
SOAKING_MATERIALS =Material #587, 02 - Default, STRP_TRANSITIONS02, 06 - Default, 07 - Default, Material #1431, Material #562, Material #1546, Material #2099, Material #1825, Material #1569, 19 - Default, 08 - Default, 13 - Default, CMWL_PITWALL, STRP_TRANSITIONS01, Material #612, ROAD?, RDCP?, GAREXTROOF, STRUCTURESA, GRANDSTAND?, GSTANDCONC, BLDNEW, HOUSECROOFS, HOUSEBROOFS, HOUSE?, GRDL?, HOTEL?, METAL?, ROOFSPADDOCK, BLDGA, HOUSEWALLSA, Material #856, Material #639, CMWL_BARRIERSA
PUDDLES_MESHES = 
SOAKING_MESHES = 
SMOOTH_MATERIALS = 
SMOOTH_MESHES =   
ROUGH_MATERIALS = 13 - Default, Material #606, Material #612, Material #2343, Background?,
LINES_MATERIALS = STRP_TRANSITIONS01, 
RELIEF_MATERIALS = '{ dynamic:no & !Bx? }'

; Bridge_SF_SUB04
STREAM_EDGE_... =96.17, 5.84, 181.3,76.82, 5.85, 172.3

; BridgeL_08
STREAM_EDGE_... =28.45, 2.4, 330.16,-4.54, 2.4, 315.39
STREAM_EDGE_... =27.78, 2.4, 331.73,-5.26, 2.4, 316.9

; BridgeL_07
STREAM_EDGE_... =-37.2, -1.44, 481.24,-65, -1.44, 468.15
STREAM_EDGE_... =-37.85, -1.44, 482.82,-65.73, -1.44, 469.71

; Bridge_07
STREAM_EDGE_... =-283.91, -6.55, 416.82,-271.19, -6.32, 400.83
STREAM_EDGE_... =-285.98, -6.55, 415.2,-273.22, -6.32, 399.2
STREAM_EDGE_... =-271.19, -6.32, 400.83,-259.03, -6.86, 385.52
STREAM_EDGE_... =-273.22, -6.32, 399.2,-260.82, -6.88, 383.55
STREAM_EDGE_... =-93.43, 1.64, 181.98,-65.03, 1.33, 187.96
STREAM_EDGE_... =-92.93, 1.64, 179.49,-64.52, 1.33, 185.4

; Media Centre
STREAM_EDGE_... =153.86, 9.61, -47.22,140.97, 9.66, -53.07
STREAM_EDGE_... =140.97, 9.66, -53.07,121.09, 9.7, -9.2
STREAM_EDGE_... =121.09, 9.7, -9.2,133.96, 9.68, -3.35
STREAM_EDGE_... =133.96, 9.68, -3.35,153.86, 9.61, -47.22
STREAM_EDGE_... =139.83, 4.92, -1.03,134.64, 4.92, -3.38
STREAM_EDGE_... =134.64, 4.92, -3.38,132.74, 4.92, 0.788
STREAM_EDGE_... =132.74, 4.92, 0.788,137.94, 4.92, 3.15
STREAM_EDGE_... =137.94, 4.92, 3.15,139.83, 4.92, -1.03
STREAM_EDGE_... =138.13, 9.63, 5.31,128.63, 8.5, 1.01
STREAM_EDGE_... =107.02, 8.5, 48.79,116.47, 9.63, 53.06
STREAM_POINT_... =134.56, 9.63, 13.19
STREAM_POINT_... =136.83, 9.63, 8.14
STREAM_POINT_... =130.33, 9.63, 22.52
STREAM_POINT_... =123.32, 9.63, 37.99
STREAM_POINT_... =126.55, 9.63, 30.83
STREAM_POINT_... =117.32, 9.63, 51.26
STREAM_POINT_... =119.14, 9.63, 47.21

:pit garage area
STREAM_EDGE_... =110.52, 11.96, 63.77,110.48, 11.96, 62.07
STREAM_EDGE_... =110.48, 11.96, 62.07,109.68, 11.96, 60.49
STREAM_EDGE_... =109.68, 11.96, 60.49,108.7, 11.96, 59.55
STREAM_EDGE_... =108.7, 11.96, 59.55,86.95, 11.96, 49.66
STREAM_EDGE_... =86.95, 11.96, 49.66,82, 11.96, 60.58
STREAM_EDGE_... =82, 11.96, 60.58,103.73, 11.96, 70.47
STREAM_EDGE_... =103.73, 11.96, 70.47,105.39, 11.96, 70.58
STREAM_EDGE_... =105.39, 11.96, 70.58,106.87, 11.96, 70.16
STREAM_EDGE_... =106.87, 11.96, 70.16,108.09, 11.96, 69.1
STREAM_EDGE_... =108.09, 11.96, 69.1,110.52, 11.96, 63.77
STREAM_EDGE_... =110.25, 2.74, 56.56,100.44, 2.74, 78.3
STREAM_EDGE_... =100.28, 3.37, 78.86,101.37, 3.37, 79.35
STREAM_EDGE_... =101.37, 3.37, 79.35,101.57, 3.37, 81.67
STREAM_EDGE_... =101.57, 3.37, 81.67,96.6, 3.37, 92.6
STREAM_EDGE_... =96.6, 3.37, 92.6,94.81, 3.37, 93.73
STREAM_EDGE_... =94.81, 3.37, 93.73,15.23, 3.37, 269.51
STREAM_EDGE_... =16.17, 9.81, 268.57,-3.84, 9.81, 259.49
STREAM_EDGE_... =-3.84, 9.81, 259.49,-10.82, 9.81, 274.87
STREAM_EDGE_... =9.2, 9.81, 283.93,16.17, 9.81, 268.57
STREAM_EDGE_... =-10.81, 9.81, 274.87,9.2, 9.81, 283.94

; Bridge_01a02
STREAM_EDGE_... =-39.65, -5.96, 412.44,-43.15, -6.27, 420.63
STREAM_EDGE_... =-26.05, -6.71, 448.77,-22.38, -6.47, 440.77

; Gas_Pumps_SUB08
STREAM_EDGE_... =-36.35, 1.66, 317.93,-33.46, 1.65, 311.56
STREAM_EDGE_... =-33.46, 1.65, 311.56,-40.58, 1.65, 308.33
STREAM_EDGE_... =-40.58, 1.65, 308.33,-43.47, 1.66, 314.7
STREAM_EDGE_... =-43.47, 1.66, 314.7,-36.35, 1.66, 317.93
STREAM_POINT_... =-38.8, 3.24, 326.69
STREAM_POINT_... =-39.29, 3.24, 326.47
STREAM_POINT_... =-39.44, 3.24, 328.07
STREAM_POINT_... =-39.96, 3.24, 327.84
STREAM_POINT_... =-40.24, 3.24, 326.04
STREAM_POINT_... =-40.24, 3.24, 326.04
STREAM_POINT_... =-40.92, 3.24, 327.44

;;;;;;;;;;;;;; GRASSFX ;;;;;;;;;;;;;;;

[GRASS_FX]
GRASS_MATERIALS =Material #606, Material #2343, 
GRASS_MESHES = 
OCCLUDING_MATERIALS_ALPHA = 
OCCLUDING_MATERIALS = 
ORIGINAL_GRASS_MATERIALS =Material #1363, Material #854, Material #1620, Material #2094,
TRIM_PERIOD = THURSDAY
MASK_BLUR = 1
MASK_MAIN_THRESHOLD = 0.5
MASK_RED_THRESHOLD = 0
MASK_MIN_LUMINANCE = -5
MASK_MAX_LUMINANCE = 5
SHAPE_SIZE = 2.75, 4.0
HEIGHT_MULT = 0.3
COLOR_FACTOR = 1.6
SHAPE_TIDY = 0
SHAPE_CUT = 0
TRIM_PERIOD= 365
TEXTURE = grass_fx/highlands.dds
TEXTURE_GRID = 8, 3 
 
[GRASS_FX_TEXTURE_GROUP_0]
PIECE_0 = 1, 1 ; extra textures, X and Y of slot starting with 1, skipping first row
PIECE_1 = 2, 1
PIECE_2 = 1, 2, 2, 1 ; texture taking 21 slots
PIECE_2_CHANCE = 0.1
 
 ; configuration A for shorter near grass
[GRASS_FX_CONFIGURATION_A]
SHAPE_SIZE = 1.1, 2.0
TRIM_PERIOD = THURSDAY
TEXTURE_GROUP_0_CHANCE = 0.0025
MASK_MAIN_THRESHOLD = 0.5
MASK_RED_THRESHOLD = 0
MASK_MIN_LUMINANCE = -5
MASK_MAX_LUMINANCE = 5
 
[GRASS_FX_ADJUSTMENT_...]
MATERIALS = 
MAP = A
 
[GRASS_FX_TEXTURE_GROUP_1]
PIECE_3 = 3, 1, 1, 2 ; piece taking 12 slots, the one with purple flowers
PIECE_3_CHANCE = 0.5
PIECE_3_SIZE_MULT = 1.3 ; default size multiplier is based on size in cells, overriding
PIECE_4 = 6, 2, 1, 1 ; yellow flowers
PIECE_4_CHANCE = 0.35
PIECE_4_SIZE_MULT = 1.5 ; default size multiplier is based on size in cells, overriding
PIECE_5 = 7, 2, 1, 1 ; blue flowers
PIECE_5_CHANCE = 0.75
PIECE_5_SIZE_MULT = 1.5 ; default size multiplier is based on size in cells, overriding
PIECE_6 = 8, 2, 1, 1 ; red flowers
PIECE_6_CHANCE = 0.5
PIECE_6_SIZE_MULT = 1.2 ; default size multiplier is based on size in cells, overriding
 
 ; configuration B for shorter grass
[GRASS_FX_CONFIGURATION_B]
SHAPE_SIZE = 1.0, 2.0
TRIM_PERIOD = THURSDAY
TEXTURE_BASE_CHANCE = 1       ; chance of regular grass to spawn
TEXTURE_GROUP_0_CHANCE = 0.12  ; chance of first group to spawn
TEXTURE_GROUP_1_CHANCE = 50 ; chance of second group to spawn
MASK_MAIN_THRESHOLD = 0.5
MASK_RED_THRESHOLD = 0
MASK_MIN_LUMINANCE = -5
MASK_MAX_LUMINANCE = 5
 
[GRASS_FX_ADJUSTMENT_...]
MATERIALS = 
MAP = B

[GRASS_FX_CONFIGURATION_C]
SHAPE_SIZE = 1.75, 2.0
TRIM_PERIOD = THURSDAY
TEXTURE_BASE_CHANCE = 1       ; chance of regular grass to spawn
TEXTURE_GROUP_0_CHANCE = 0.002 ; chance of first group to spawn
TEXTURE_GROUP_1_CHANCE = 0.001 ; chance of second group to spawn
MASK_MAIN_THRESHOLD = 0.5
MASK_RED_THRESHOLD = 0
MASK_MIN_LUMINANCE = -5
MASK_MAX_LUMINANCE = 5
 
[GRASS_FX_ADJUSTMENT_...]
MATERIALS =Material #606, Material #2343,  
MAP = C

;;;;;;;;;;;;;; MATERIAL ADJUSTMENT ;;;;;;;;;;;;;;;

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION=
MATERIALS=Material #606, Material #2343, Material #2415, Material #1092, Material #1541, 
KEY_0 = ksDiffuse
VALUE_0 = 0.10
OFF_VALUE_0 = 0.15
ACTIVE = 1

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION=
MATERIALS=Material #2026, 
KEY_0 = ksDiffuse
VALUE_0 = 0.05
OFF_VALUE_0 = 0.15
ACTIVE = 1

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION=
MATERIALS=13 - Default, HOUSECROOFS, 
KEY_0 = ksDiffuse
VALUE_0 = 0.18
OFF_VALUE_0 = 0.20
ACTIVE = 1

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION=
MATERIALS=06 - Default, 08 - Default, TYRECANVAS, FLAGHUT, 
KEY_0 = ksDiffuse
VALUE_0 = 0.10
OFF_VALUE_0 = 0.25
ACTIVE = 1

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION=
MATERIALS=Material #562, 07 - Default, 19 - Default, Material #612,
KEY_0 = ksDiffuse
VALUE_0 = 0.20
OFF_VALUE_0 = 0.25
ACTIVE = 1

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION=
MATERIALS=ROAD_TRACKFILL_WET, ROAD_TRACKFILLRED_WET, RDCP_PITFILL_WET,
KEY_0 = ksDiffuse
VALUE_0 = 0.15
OFF_VALUE_0 = 0.25
ACTIVE = 1

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION=
MATERIALS=RDCP_GARFLOOR, GARWALLS,
KEY_0 = ksDiffuse
VALUE_0 = 0.18
OFF_VALUE_0 = 0.25
ACTIVE = 1

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION=
MATERIALS=Material #608,
KEY_0 = ksDiffuse
VALUE_0 = 0.20
OFF_VALUE_0 = 0.25
ACTIVE = 1

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION=
MATERIALS=Background?, 
KEY_0 = ksDiffuse
VALUE_0 = 0.25
OFF_VALUE_0 = 0.25
ACTIVE = 1

;;;;;;;;;;;;;; DIGITAL FLAG ;;;;;;;;;;;;;;;

[CONDITION_0]
ACTIVE = 1
NAME=RACING_FLAG_FLASH
INPUT=FLAG_TYPE
LUT=(|1=0,1,0|2=1,1,0|3=1,0.5,0|4=1,0.3,0|5=1,0,0|6=0.7,0.7,0.7|7=1,0.5,0.5|8=0.1,0.1,0.1|9=0,0,0.1|10=0.5,0.5,0.5|11=0.5,0.5,0.5|12=0,0,1.5|13=0,0,0|14=1,1,1|)
FLASHING_FREQUENCY=10
FLASHING_SMOOTHNESS=0

[CustomEmissive]
ACTIVE = 1
DESCRIPTION = digital racing flags
Materials = MARSHALFLAGR, MARSHALFLAGB, 
Resolution = 128,128
SHADER=ksPerPixelMultiMap_emissive
@ = CustomEmissive_Rect, Channel = 0, Start = "0,0", Size = "128,128"

[MATERIAL_ADJUSTMENT_...]
ACTIVE = 1
DESCRIPTION = digital racing flags
MATERIALS = MARSHALFLAGR, MARSHALFLAGB, 
KEY_0 = ksEmissive
;VALUE_0 = 255,255,255,0.10
VALUE_0 = 0,181,9,0.6
VALUE_OFF_0 = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
KEY_2 = ksDiffuse
VALUE_2 = 0
INPUT_STAY_FOR = 2
INPUT_CHANGE_DELAY = 0
CONDITION = RACING_FLAG_FLASH

[MATERIAL_ADJUSTMENT_...]
ACTIVE = 1
DESCRIPTION = digital racing flags
MATERIALS = GRLT
KEY_0 = ksEmissive
;VALUE_0 = 255,255,255,0.10
VALUE_0 = 0,181,9,0.6
VALUE_OFF_0 = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
KEY_2 = ksDiffuse
VALUE_2 = 0

;;;;;;;;;;;;;; GLASS LIGHT ;;;;;;;;;;;;;;;

[MATERIAL_ADJUSTMENT_...]
MATERIALS = BLD_GLASS
CONDITION = NIGHT_SMOOTH
KEY_0 = ksEmissive
VALUE_0 = 0.96664, 0.950154, 0.71487,6.5
VALUE_0_OFF = 0, 0, 0
DESCRIPTION = pit building windows glow
ACTIVE = 1
 
[Material_RoomWindows]
Materials = BLD_GLASS
EmissiveMode = ONE
SnapToTexCoords = 1
TexCoordsSnapOffset = 1.0
NormalsFactor = 0
RoomCeilingScale = 0.5
RoomCeilingRotation = 73.0
RoomDepth = 12
ShapeChance = 1
Shape1_X_W = 0.01
Shape1_Y_W = 0.01
ShapeSmoothness = 0.85
InteriorBaseBrightness = 1.5
InteriorMult = 0.5
InteriorGlowBrightness = 0.5
InteriorVolumeBrightness = 2.5
InteriorLightsBrightness = 2.25

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION= Glass Lights
VISIBILITY_LEVEL=0
MATERIALS=BLD_GLASS
CONDITION=NIGHT_SMOOTH
OFFSET=0,0,0
DIRECTION=NORMAL
DIRECTION=0,-2,0
SPOT=225
RANGE=25
RANGE_GRADIENT_OFFSET=0.4
FADE_AT=700
FADE_SMOOTH=25
CLUSTER_THRESHOLD=16
DIFFUSE_CONCENTRATION=0.50
COLOR=255,255,200,0.025

[MATERIAL_ADJUSTMENT_...]
MATERIALS = WINDOWSMC
CONDITION = NIGHT_SMOOTH
KEY_0 = ksEmissive
VALUE_0 = 0.96664, 0.950154, 0.71487,6.5
VALUE_0_OFF = 0, 0, 0
DESCRIPTION = pit building windows glow
ACTIVE = 1
 
[Material_RoomWindows]
Materials = WINDOWSMC
EmissiveMode = ONE
SnapToTexCoords = 1
TexCoordsSnapOffset = 1.0
NormalsFactor = 0
RoomCeilingScale = 0.5
RoomCeilingRotation = 73.0
RoomDepth = 12
ShapeChance = 1
Shape1_X_W = 0.01
Shape1_Y_W = 0.01
ShapeSmoothness = 0.85
InteriorBaseBrightness = 1.5
InteriorMult = 0.5
InteriorGlowBrightness = 0.5
InteriorVolumeBrightness = 2.5
InteriorLightsBrightness = 2.25

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION= Glass Lights
VISIBILITY_LEVEL=0
MATERIALS=WINDOWSMC
CONDITION=NIGHT_SMOOTH
OFFSET=0,0,0
DIRECTION=NORMAL
DIRECTION=0,-2,0
SPOT=225
RANGE=25
RANGE_GRADIENT_OFFSET=0.4
FADE_AT=700
FADE_SMOOTH=25
CLUSTER_THRESHOLD=16
DIFFUSE_CONCENTRATION=0.50
COLOR=255,255,200,0.025

;;;;;;;;;;;;;; BOX LIGHTS ;;;;;;;;;;;;;;;

[CustomEmissive]
ACTIVE = 1
DESCRIPTION = Pitlane garage lights 
MATERIALS = GARLIGHTS 
Resolution =512,256
SHADER=ksPerPixelMultiMap_emissive
@ = CustomEmissive_Rect, Channel = 0, Start = "87, 173", Size = "328, 53"

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION = Pitlane garage lights 
VISIBILITY_LEVEL=0
MATERIALS=GARLIGHTS
CONDITION=NIGHT_SMOOTH
OFFSET=0,0,0
DIRECTION=NORMAL
DIRECTION=0,-2,0
SPOT=200
RANGE=40
RANGE_GRADIENT_OFFSET=0.4
FADE_AT=700
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
DIFFUSE_CONCENTRATION=0.35
COLOR=255,255,200,0.020

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION = Pitlane garage lights 
MATERIALS=GARLIGHTS
KEY_...=ksEmissive
VALUE_0=255,255,255,0.50
VALUE_0_OFF=0,0,0
CONDITION=NIGHT_SMOOTH
KEY_... = ksAlphaRef
VALUE_... = -193

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION = Pitlane FAKE garage lights helper
VISIBILITY_LEVEL=0
MESHES = GarageExt_02_SUB10
CONDITION=NIGHT_SMOOTH
OFFSET=0,-2,0
DIRECTION=NORMAL
DIRECTION=0,-2,0
SPOT=225
RANGE=35
RANGE_GRADIENT_OFFSET=0.4
FADE_AT=700
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
DIFFUSE_CONCENTRATION=0.35
COLOR=255,255,200,0.020

;;;;;;;;;;;;;; TRACK LIGHTS ;;;;;;;;;;;;;;;

[CustomEmissive]
ACTIVE = 1
DESCRIPTION = Track lights
MATERIALS = FL_LIGHT
Resolution =32,32
SHADER=ksPerPixelMultiMap_emissive
@ = CustomEmissive_Rect, Channel = 1, Start = "0,0", Size = "32,32",

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION= Track Lights
VISIBILITY_LEVEL=0
MATERIALS = FL_LIGHT
CONDITION=NIGHT_SMOOTH
OFFSET=0,0.25,0
DIRECTION=NORMAL
DIRECTION=0,-2,0
SPOT=225
RANGE=65
RANGE_GRADIENT_OFFSET=0.4
FADE_AT=700
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
DIFFUSE_CONCENTRATION=0.25
COLOR=255,255,200,0.025

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION= Track Lights
MATERIALS = FL_LIGHT
KEY_...=ksEmissive1
VALUE_0=255,255,255,0.50
VALUE_0_OFF=0, 0, 0
CONDITION=NIGHT_SMOOTH
KEY_... = ksAlphaRef
VALUE_... = -193

;;;;;;;;;;;;;; HOUSE LIGHTS ;;;;;;;;;;;;;;;

[CustomEmissive]
ACTIVE = 1
DESCRIPTION = House lights 
MATERIALS = DOORSANDWINDOWSA
Resolution =512,512 
SHADER=ksPerPixelMultiMap_emissive
@ = CustomEmissive_Rect, Channel = 0, Start = "155, 422", Size = "121, 73", CornerRadius=0.0
@ = CustomEmissive_Rect, Channel = 1, Start = "322, 114", Size = "58, 91", CornerRadius=0.0
@ = CustomEmissive_Rect, Channel = 2, Start = "63, 4", Size = "78, 102", CornerRadius=0.0
@ = CustomEmissive_Rect, Channel = 3, Start = "16, 442", Size = "125, 53", CornerRadius=0.0

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION= House Lights
VISIBILITY_LEVEL=0
MATERIALS=DOORSANDWINDOWSA
CONDITION=NIGHT_SMOOTH
OFFSET=0,0,0
DIRECTION=NORMAL
DIRECTION=0,-2,0
SPOT=225
RANGE=10
RANGE_GRADIENT_OFFSET=0.4
FADE_AT=700
FADE_SMOOTH=25
CLUSTER_THRESHOLD=18
DIFFUSE_CONCENTRATION=0.50
COLOR=255,255,200,0.025

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION = House lights
MATERIALS=DOORSANDWINDOWSA
KEY_...=ksEmissive
VALUE_0=255,255,255,0.015
VALUE_0_OFF=0, 0, 0
CONDITION=NIGHT_SMOOTH
KEY_... = ksAlphaRef
VALUE_... = -193

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION = House lights
MATERIALS=DOORSANDWINDOWSA
KEY_...=ksEmissive1
VALUE_0=255,255,255,0.015
VALUE_0_OFF=0, 0, 0
CONDITION=NIGHT_SMOOTH
KEY_... = ksAlphaRef
VALUE_... = -193

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION = House lights
MATERIALS=DOORSANDWINDOWSA
KEY_...=ksEmissive2
VALUE_0=255,255,255,0.015
VALUE_0_OFF=0, 0, 0
CONDITION=NIGHT_SMOOTH
KEY_... = ksAlphaRef
VALUE_... = -193

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION = House lights
MATERIALS=DOORSANDWINDOWSA
KEY_...=ksEmissive3
VALUE_0=255,255,255,0.015
VALUE_0_OFF=0, 0, 0
CONDITION=NIGHT_SMOOTH
KEY_... = ksAlphaRef
VALUE_... = -193

;;;;;;;;;;;;;; MARSHALL POSTS LIGHTS ;;;;;;;;;;;;;;;

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION=Marshall posts lights
VISIBILITY_LEVEL=0
MATERIALS=FLAGHUT
CONDITION=NIGHT_SMOOTH
OFFSET=0,1,0
DIRECTION=NORMAL
DIRECTION=0,-2,0
SPOT=225
RANGE=6
RANGE_GRADIENT_OFFSET=0.4
FADE_AT=700
FADE_SMOOTH=25
CLUSTER_THRESHOLD=16
DIFFUSE_CONCENTRATION=0.50
COLOR=255,255,200,0.018

;;;;;;;;;;;;;; CLOSED TRIBUNE LIGHTS ;;;;;;;;;;;;;;;

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION=Closed tribune lights
VISIBILITY_LEVEL=0
MATERIALS=GRANDSTANDMAINB
CONDITION=NIGHT_SMOOTH
OFFSET=0,0,0
DIRECTION=NORMAL
DIRECTION=0,-2,0
SPOT=200
RANGE=35
RANGE_GRADIENT_OFFSET=0.4
FADE_AT=700
FADE_SMOOTH=25
CLUSTER_THRESHOLD=16
DIFFUSE_CONCENTRATION=0.50
COLOR=255,255,200,0.010

;;;;;;;;;;;;;; AMBULANCE LIGHTS ;;;;;;;;;;;;;;;

[CustomEmissive]
ACTIVE = 1
DESCRIPTION = define custom channels
MATERIALS =MB_Sprinter_2014
Resolution =1024,1024
@ = CustomEmissive_Rect, Channel = 0, Start = "912.5, 90.7", Size = "103.3, 50.2", CornerRadius=0.0
@ = CustomEmissive_Rect, Channel = 1, Start = "764.7, 92", Size = "102.7, 49.3", CornerRadius=0.0
@ = CustomEmissive_Rect, Channel = 2, Start = "803, 186.9", Size = "22.4, 18.1", CornerRadius=0.0
@ = CustomEmissive_Rect, Channel = 3, Start = "959.8, 186.5", Size = "23.4, 18.3", CornerRadius=0.0

[MATERIAL_ADJUSTMENT_...]
ACTIVE = 1
VISIBILITY_LEVEL = 0
DESCRIPTION = Use channel 0 (red)
MATERIALS =MB_Sprinter_2014
CONDITION = BLINK1
KEY_... = ksEmissive
VALUE_... = 229,40,0,2
KEY_... = ksAlphaRef
VALUE_... = -193

[MATERIAL_ADJUSTMENT_...]
ACTIVE = 1
VISIBILITY_LEVEL = 0
DESCRIPTION = Use channel 1 (blue)
MATERIALS =MB_Sprinter_2014
CONDITION = BLINK2
KEY_... = ksEmissive1
VALUE_... = 1,0,90,6
KEY_... = ksAlphaRef
VALUE_... = -193

[MATERIAL_ADJUSTMENT_...]
ACTIVE = 1
VISIBILITY_LEVEL = 0
DESCRIPTION = Use channel 2 (red)
MATERIALS =MB_Sprinter_2014
CONDITION = BLINK1
KEY_... = ksEmissive2
VALUE_... = 229,40,0,2
KEY_... = ksAlphaRef
VALUE_... = -193

[MATERIAL_ADJUSTMENT_...]
ACTIVE = 1
VISIBILITY_LEVEL = 0
DESCRIPTION = Use channel 3 (red)
MATERIALS =MB_Sprinter_2014
CONDITION = BLINK2
KEY_... = ksEmissive3
VALUE_... = 229,40,0,2
KEY_... = ksAlphaRef
VALUE_... = -193

[CONDITION_...]
NAME = BLINK1
INPUT = ONE
FLASHING_FREQUENCY = 5
FLASHING_SMOOTHNESS = 0
FLASHING_SKIP_OFF_STATE = 0
FLASHING_NOISE_AMPLITUDE = 0
FLASHING_MIN_VALUE = 0.0
FLASHING_SYNCED = 1

[CONDITION_...]
NAME = BLINK2
INPUT = ONE
FLASHING_FREQUENCY = -5
;;; minus to alternate frequency
FLASHING_SMOOTHNESS = 0
FLASHING_SKIP_OFF_STATE = 0
FLASHING_NOISE_AMPLITUDE = 0
FLASHING_MIN_VALUE = 0.0
FLASHING_SYNCED = 1

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION= Ambulance Red Glow
VISIBILITY_LEVEL=0
MATERIALS=MB_Sprinter_2014
CONDITION=BLINK1
OFFSET=0,5,0
DIRECTION=NORMAL
DIRECTION=0,-2,0
SPOT=150
RANGE=8
RANGE_GRADIENT_OFFSET=0.4
FADE_AT=700
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
DIFFUSE_CONCENTRATION=0.50
COLOR=229,40,0,0.025

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION= Ambulance Blue Glow
VISIBILITY_LEVEL=0
MATERIALS=MB_Sprinter_2014
CONDITION=BLINK2
OFFSET=0,5,0
DIRECTION=NORMAL
DIRECTION=0,-2,0
SPOT=150
RANGE=8
RANGE_GRADIENT_OFFSET=0.4
FADE_AT=700
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
DIFFUSE_CONCENTRATION=0.50
COLOR=1,0,90,0.025

;;;;;;;;;;;;;; TOW TRUCK LIGHTS ;;;;;;;;;;;;;;;

[CustomEmissive]
ACTIVE = 1
DESCRIPTION = define custom channels
MATERIALS =SOSVEHICLES
Resolution =2048,2048
@ = CustomEmissive_Rect, Channel = 0, Start = "871.9, 676.6", Size = "106.1, 180.8", CornerRadius=0.0

[MATERIAL_ADJUSTMENT_...]
ACTIVE = 1
VISIBILITY_LEVEL = 0
DESCRIPTION = Use channel 1 (blue)
MATERIALS =SOSVEHICLES
CONDITION = BLINK1
KEY_... = ksEmissive
VALUE_... = 1,0,90,6
KEY_... = ksAlphaRef
VALUE_... = -193

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION= Ambulance Red Glow
VISIBILITY_LEVEL=0
MATERIALS=SOSVEHICLES
CONDITION=BLINK1
OFFSET=0,5,0
DIRECTION=NORMAL
DIRECTION=0,-2,0
SPOT=150
RANGE=8
RANGE_GRADIENT_OFFSET=0.4
FADE_AT=700
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
DIFFUSE_CONCENTRATION=0.50
COLOR=1,0,90,0.025

;;;;;;;;;;;;;; BRIDGE & BANNERS LIGHTS ;;;;;;;;;;;;;;;

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION=Bridge lights
VISIBILITY_LEVEL=0
MESHES = Object58, Object62, Object64, Object18, Object24, 
CONDITION=NIGHT_SMOOTH
OFFSET=0,1.5,0
DIRECTION=NORMAL
DIRECTION=0,-2,0
SPOT=225
RANGE=20
RANGE_GRADIENT_OFFSET=0.4
FADE_AT=700
FADE_SMOOTH=25
CLUSTER_THRESHOLD=16
DIFFUSE_CONCENTRATION=0.50
COLOR=255,255,200,0.035

[MATERIAL_ADJUSTMENT_...]
DESCRIPTION=Bridge lights
CONDITION = NIGHT_SMOOTH
MESHES = Object58, Object62, Object64, Object18, Object24, 
KEY_0 = ksEmissive
VALUE_0 = 1.5
OFF_VALUE_0 = 0.15
ACTIVE = 1

[LIGHT_...]
ACTIVE=1
VISIBILITY_LEVEL=0
DESCRIPTION=
FADE_AT=1000
FADE_SMOOTH=50
LINE_FROM=94.88, 7.39, 87.83
LINE_TO=96.29, 7.41, 84.71
SPOT_SHARPNESS=0.5
RANGE=10
RANGE_GRADIENT_OFFSET=0.10
DIFFUSE_CONCENTRATION=0.50
COLOR=255,255,200,0.050
CONDITION=NIGHT_SMOOTH

[MATERIAL_ADJUSTMENT_...]
DESCRIPTION=Bridge lights
CONDITION = NIGHT_SMOOTH
MESHES = Gas_Pumps_SUB08, 
KEY_0 = ksEmissive
VALUE_0 = 1.5
OFF_VALUE_0 = 0.15
ACTIVE = 1

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION= Ambulance Red Glow
VISIBILITY_LEVEL=0
MESHES = Gas_Pumps_SUB05, 
CONDITION=NIGHT_SMOOTH
OFFSET=0.5,-2,-5
DIRECTION=NORMAL
DIRECTION=0,-1,0
SPOT=150
RANGE=15
RANGE_GRADIENT_OFFSET=0.4
FADE_AT=700
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
DIFFUSE_CONCENTRATION=0.50
COLOR=255,255,200,0.075

[MATERIAL_ADJUSTMENT_...]
DESCRIPTION=Bridge lights
CONDITION = NIGHT_SMOOTH
MESHES = WALL04_SUB09, 
KEY_0 = ksEmissive
VALUE_0 = 1.0
OFF_VALUE_0 = 0.15
ACTIVE = 1

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION= Ambulance Red Glow
VISIBILITY_LEVEL=0
MESHES = WALL04_SUB09, 
CONDITION=NIGHT_SMOOTH
OFFSET=0,1,0
DIRECTION=NORMAL
DIRECTION=0,-2,0
SPOT=150
RANGE=15
RANGE_GRADIENT_OFFSET=0.4
FADE_AT=700
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
DIFFUSE_CONCENTRATION=0.50
COLOR=255,255,200,0.020

[MATERIAL_ADJUSTMENT_...]
DESCRIPTION=Bridge lights
CONDITION = NIGHT_SMOOTH
MESHES = WALL04_SUB25, WALL04_SUB26,
KEY_0 = ksEmissive
VALUE_0 = 1.0
OFF_VALUE_0 = 0.15
ACTIVE = 1

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION= Ambulance Red Glow
VISIBILITY_LEVEL=0
MESHES = WALL04_SUB25, WALL04_SUB26, 
CONDITION=NIGHT_SMOOTH
OFFSET=0,0,0
DIRECTION=NORMAL
DIRECTION=0,-2,0
SPOT=150
RANGE=25
RANGE_GRADIENT_OFFSET=0.4
FADE_AT=700
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
DIFFUSE_CONCENTRATION=0.50
COLOR=255,255,200,0.020

;;;;;;;;;;;;;; SEASONS ;;;;;;;;;;;;;;;

[CONDITION_...]
NAME=SEASON_SUMMER
INPUT=YEAR_PROGRESS
LUT=(|-1=0|0=1|0.13=1|0.2=0|0.43=0|0.5=0.8|0.55=1|0.7=1|0.75=0|0.8=0|0.85=1|1=1|)
LAG=0

[CONDITION_...]
NAME=SEASON_AUTUMN
INPUT=YEAR_PROGRESS
LUT=(|-1=0|0=1|0.2=0|0.45=0|0.6=0.25|0.65=0.5|0.7=0.75|0.75=1|0.9=0.0|1=0|)
LAG=0

[CONDITION_...]
NAME=SEASON_WINTER
INPUT=YEAR_PROGRESS
LUT=(|-1=0|0=1|0.1=1|0.2=0|0.85=0|0.9=0.5|1=1.0|)
LAG=0

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION=Summer Settings
MATERIALS=Material?, ?Default?, STRP_TRANSITIONS02, CMWL_PITWALL, STRP_TRANSITIONS01, ROAD?, RDCP?, GAREXTROOF, STRUCTURESA, GRANDSTAND?, GSTANDCONC, BLDNEW, HOUSECROOFS, HOUSEBROOFS, HOUSE?, GRDL?, HOTEL?, METAL?, ROOFSPADDOCK, BLDGA, HOUSEWALLSA, CMWL_BARRIERSA, GRDL_ARMCOS, Background?, STRP_TRANSITIONS01, GARDETAILS, GRANDSTANDS, trees2, pines1, POWER01, ROAD_TRACKFILLRED_WET, GAMEPITCH, TYRES3D, TYRECANVAS,
KEY_0=seasonSummer
VALUE_0=0.65
VALUE_2_OFF=ORIGINAL
CONDITION=SEASON_SUMMER

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION=Autumn Settings
MATERIALS=Material?, ?Default?, STRP_TRANSITIONS02, CMWL_PITWALL, STRP_TRANSITIONS01, ROAD?, RDCP?, GAREXTROOF, STRUCTURESA, GRANDSTAND?, GSTANDCONC, BLDNEW, HOUSECROOFS, HOUSEBROOFS, HOUSE?, GRDL?, HOTEL?, METAL?, ROOFSPADDOCK, BLDGA, HOUSEWALLSA, CMWL_BARRIERSA, GRDL_ARMCOS, Background?, STRP_TRANSITIONS01, GARDETAILS, GRANDSTANDS, trees2, pines1, POWER01, ROAD_TRACKFILLRED_WET, GAMEPITCH, TYRES3D, TYRECANVAS,
KEY_0=seasonAutumn
VALUE_0=0.25
OFF_VALUE_0=ORIGINAL
CONDITION=SEASON_AUTUMN

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION=Winter Settings
MATERIALS=Material?, ?Default?, STRP_TRANSITIONS02, CMWL_PITWALL, STRP_TRANSITIONS01, ROAD?, RDCP?, GAREXTROOF, STRUCTURESA, GRANDSTAND?, GSTANDCONC, BLDNEW, HOUSECROOFS, HOUSEBROOFS, HOUSE?, GRDL?, HOTEL?, METAL?, ROOFSPADDOCK, BLDGA, HOUSEWALLSA, CMWL_BARRIERSA, GRDL_ARMCOS, Background?, STRP_TRANSITIONS01, GARDETAILS, GRANDSTANDS, trees2, pines1, POWER01, ROAD_TRACKFILLRED_WET, GAMEPITCH, TYRES3D, TYRECANVAS,
KEY_0=seasonWinter
VALUE_0=1.0
OFF_VALUE_0=0
CONDITION=SEASON_WINTER


--------------------------------------------------------------------------
; heli animations
--------------------------------------------------------------------------

[ANIMATED_...]
NODE = helicopter_red
ANIMATION = heli_redfly_x.ksanim
DURATION = 192

[ANIMATED_...]
NODE = helicopter_hughes_00
ANIMATION = heli_hughesfly_00_x.ksanim
DURATION = 120

--------------------------------------------------------------------------
;helicopter blade rotation
--------------------------------------------------------------------------

[SHADER_REPLACEMENT_...]
MATERIALS = Rotor
SHADER = stPerPixelNM_UVflow
PROP_0 = offsetNMSpeed, 6.3, 0

[SHADER_REPLACEMENT_...]
MATERIALS = Rotor2
SHADER = stPerPixelNM_UVflow
PROP_0 = offsetNMSpeed, 6.3, 0

--------------------------------------------------------------------------
;helicopter lights
--------------------------------------------------------------------------

[CONDITION_...]
NAME = BLINK
INPUT = ONE
FLASHING_FREQUENCY = 5
FLASHING_SMOOTHNESS = 0
FLASHING_SKIP_OFF_STATE = 0
FLASHING_NOISE_AMPLITUDE = 0
FLASHING_MIN_VALUE = 0.0
FLASHING_SYNCED = 1

[CONDITION_...]
NAME = BLINK_ALT
INPUT = ONE
FLASHING_FREQUENCY = -5
FLASHING_SMOOTHNESS = 0
FLASHING_SKIP_OFF_STATE = 0
FLASHING_NOISE_AMPLITUDE = 0
FLASHING_MIN_VALUE = 0.0
FLASHING_SYNCED = 1

[MATERIAL_ADJUSTMENT_...]
ACTIVE = 1
DESCRIPTION = heli green
MATERIALS = heligreen, Hughes500_GreenLight
KEY_0 = ksEmissive
VALUE_0 = 0,255,0,1
VALUE_0_OFF = 0
CONDITION = BLINK

[MATERIAL_ADJUSTMENT_...]
ACTIVE = 1
DESCRIPTION = heli red
MATERIALS = helired, Hughes500_RedLight
KEY_0 = ksEmissive
VALUE_0 = 255,0,0,2
VALUE_0_OFF = 0
CONDITION = BLINK_ALT

[MATERIAL_ADJUSTMENT_...]
ACTIVE = 1
DESCRIPTION = heli cockpit
MATERIALS = heliinside, Hughes500_Navlights
KEY_0 = ksEmissive
VALUE_0 = 55,255,55,0.25
VALUE_0_OFF = 0
CONDITION = NIGHT_SMOOTH

--------------------------------------------------------------------------
;balloon flames
--------------------------------------------------------------------------

[CONDITION_...]
NAME = BALOON_FLAMES1
INPUT = ONE
FLASHING_FREQUENCY = 0.2
FLASHING_SMOOTHNESS = 0.3
FLASHING_SKIP_OFF_STATE = 0
FLASHING_SKIP_DOWNHILL_STATE = 0
FLASHING_MIN_VALUE = 0
FLASHING_SYNCED = 1
FLASHING_NOISE_AMPLITUDE = 0.3
FLASHING_NOISE_BOUND = 1
FLASHING_NOISE_SPEED = 3
FLASHING_LUT = (|0=0|0.8=0|0.89=0.5|0.9=1|0.91=0|1.0=0|)

[MATERIAL_ADJUSTMENT_...]
ACTIVE = 1
VISIBILITY_LEVEL = 0
DESCRIPTION = balloon outside
MATERIALS = estoril3, michy, repsol
KEY_0 = ksEmissive
VALUE_0 = 255, 220,185,0.005
VALUE_0_OFF = 0
CONDITION = BALOON_FLAMES1

[MATERIAL_ADJUSTMENT_...]
ACTIVE = 1
VISIBILITY_LEVEL = 0
DESCRIPTION = balloon flames1
MATERIALS = ?ignition?
KEY_0 = ksEmissive
VALUE_0 = 255, 220,185,0.1
VALUE_0_OFF = 0
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = 0, 0, 0
BLEND_MODE=ALPHA_TEST
CONDITION = FLAME_FLICKERING

[MATERIAL_ADJUSTMENT_...]
ACTIVE = 1
VISIBILITY_LEVEL = 0
DESCRIPTION = balloon flames
MATERIALS = balloon_flame, fire
KEY_0 = ksEmissive
VALUE_0 = 255, 220,185,1.5
VALUE_0_OFF = 0
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = 0, 0, 0
CONDITION = BALOON_FLAMES1

--------------------------------------------------------------------------
; Animated Blimp
--------------------------------------------------------------------------

[ANIMATED_...]
NODE = Blimp
ANIMATION = blimp.ksanim
DURATION = 1925

--------------------------------------------------------------------------
;extended track physics
--------------------------------------------------------------------------

[SHADER_REPLACEMENT_...]
ACTIVE=1
MESHES=01WALL, 01WALL_001, 01WALL_003, 01WALL_004, 01WALL_005, 01WALL_006, 01WALL_007, 01WALL_008, 01WALL08,
SOFT_ERP=0.6
CULL_MODE = WIREFRAME

[SURFACE_0]
WAV_PITCH=extended-0

[COLLISION_PARAMS_...]
MESHES=WALL41, WALL42, WALL43, WALL38, WALL39, WALL37, WALL08
SOFT_ERP=0.6
SOFT_CFM=0.001
MAX_DEPTH=0.5
BOUNCE=0.5
FRICTION=0.1
INTENSITY=0.08

[DEFORMING_WALLS_...]
MESHES = material:TYRECANVAS, 
MAX_DEPTH = 1.0
RESTORATION_LAG = 0.8
TESSELLATION = 1
TESSELLATION_DISTANCE = 20, 100
TESSELLATION_FACTOR = 15, 3
